@baseUrl = http://localhost:8888/api/v1
@contentType = application/json

### 1. SIGN IN to get token
# @name login
POST {{baseUrl}}/public/signin
Content-Type: {{contentType}}

{
  "email": "alex.johnson@example.com",
  "password": "123456"
}

### 2. USE extracted token in next requests

@authToken = {{login.response.body.token}}

// Now define course/module IDs
@courseId = 1
@moduleId = 1

### GET Modules for Course
GET {{baseUrl}}/courses/{{courseId}}/modules
Authorization: Bearer {{authToken}}
Accept: {{contentType}}

### CREATE Module
POST {{baseUrl}}/courses/{{courseId}}/modules
Authorization: Bearer {{authToken}}
Content-Type: {{contentType}}

{
  "title": "Auto-Auth Module",
  "contentText": "Created using extracted token",
  "videoUrl": "https://example.com/auto.mp4"
}

### UPDATE Module
PUT {{baseUrl}}/courses/{{courseId}}/modules/{{moduleId}}
Authorization: Bearer {{authToken}}
Content-Type: {{contentType}}

{
  "title": "Updated via Auto Token",
  "contentText": "Token was extracted from login!",
  "videoUrl": "https://example.com/updated-auto.mp4"
}

### DELETE Module
DELETE {{baseUrl}}/courses/{{courseId}}/modules/{{moduleId}}
Authorization: Bearer {{authToken}}

